---
import Layout from "../layouts/Layout.astro";
import { Picture } from "astro:assets";

const {
    title,
    description,
    subTitle,
    src,
    alt,
    classContent = "max-w-2xl mx-6 my-16 lg:mx-auto",
} = Astro.props;
---

<Layout title={title} description={description}>
    <div class="pt-30 grille grid h-screen grid-rows-[4fr_1fr] relative">
        <div class="my-12 space-y-8 self-end text-white z-[2]">
            <h1>{title}</h1>
            {
                subTitle && (
                    <h2 class="font-sans text-sm font-bold uppercase">
                        {subTitle}
                    </h2>
                )
            }
        </div>

        <div
            class="relative z-[1] row-start-2 flex items-center -mx-6 px-6 bg-white text-xl leading-normal"
        >
            <slot name="chapo" />
        </div>
        <Picture
            pictureAttributes={{
                class: "duotone !absolute inset-0 object-cover",
            }}
            formats={["avif", "webp"]}
            src={src}
            alt={alt}
            widths={[540, 720, src.width]}
            sizes={`(max-width: 720px) 540px, (max-width: 1600px) 720px, ${src.width}px`}
        />
        <slot name="patterns" />
    </div>
    <div class={classContent}>
        <slot name="content" />
    </div>
</Layout>
